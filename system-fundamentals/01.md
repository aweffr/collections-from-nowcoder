
题目
-
下列不是进程间的通信方式的是（）

管道 / 回调 / 共享内存 / 消息队列 / socket / 信号量

解析
-
- 管道(pipe)：管道是一种半双工的通信方式，数据只能单向流动，而且只能在具有亲缘关系的进程间使用。进程的亲缘关系通常是指父子进程关系。 
- 信号量( semophore ) ： 信号量是一个计数器，可以用来控制多个进程对共享资源的访问。它常作为一种锁机制，防止某进程正在访问共享资源时，其他进程也访问该资源。因此，主要作为进程间以及同一进程内不同线程之间的同步手段。 
- 消息队列( message queue ) ： 消息队列是由消息的链表，存放在内核中并由消息队列标识符标识。消息队列克服了信号传递信息少、管道只能承载无格式字节流以及缓冲区大小受限等缺点。 
- 共享内存( shared memory ) ：共享内存就是映射一段能被其他进程所访问的内存，这段共享内存由一个进程创建，但多个进程都可以访问。共享内存是最快的 IPC 方式，它是针对其他进程间通信方式运行效率低而专门设计的。它往往与其他通信机制，如信号量配合使用，来实现进程间的同步和通信。 
- 套接字( socket ) ： 套接字也是一种进程间通信机制，与其他通信机制不同的是，它可用于不同及其间的进程通信。




题目
-
已知IBM的PowerPC是big-endian字节序列而Intel的X86是little-endian字节序，如果在地址a存储的整形值是0x04030201，那么地址为a+3的字节内存储的值在PowerPC和Intel X86结构下的值分别是？

解析
-
大端从大地址开始存储，小端相反，两者都是从数据低位开始存起；
<p>低 --> 高
<p>PowerPC（大）： 04 03 02 01
<p>Intel X86（小）：01 02 03 04
<p>a+3指向最大的地址，所以分别为1 4

题目
---
页高速缓存是 Linux Kernel 使用的主要的磁盘缓存技术。它允许系统把存放在磁盘上的一些数据保留在内存中，以便减少对磁盘的访问。进程对页高速缓存区中的数据修改之后，数据页被标记为“脏数据”在下列哪些条件下，脏数据不会被写入磁盘?  
1. 页高速缓存空间不足
2. 突然断电
3. 变脏以来，太久没有过更新
4. 通过系统调用 sync(), fsync()，fdataasync() 来  
   强行对将对快设备的更新同步到磁盘
5. 内存足够大
6. 磁盘足够大

解析
---
- 为什么要页高速缓存?
    1. 页高速缓存是由RAM组成，其访问速度比磁盘块，  
       将磁盘数据暂存在页高速缓存中,有利于提高访问速度
    2. 程序局部原理，短时间内会访问同一片数据
- 当O_DIRECT标志置位了, 数据的传送会绕过页高速度缓存而使用进程用户态地址空间与磁盘交互
- 除此以外, 内核（虽然发出的读写请求都是用户进程，但实际与磁盘接触的都是内核）在读写磁盘时都要经过页高速缓存.
- 什么情况下将脏页写到磁盘?
    1. 页高速缓存已经变得太满，但还需要更多的页，或者脏页的数量已经太多。
        - pdflush线程在系统中的空闲内存低于一个特定的阈值时，将脏页刷新回磁盘。
    2. 自从变为脏页以来已经过去太长时间
        - pdflush后台例程会被周期唤醒，将那些在内存中驻留时间过长的脏页写出，确保内存中不会有长期存在的脏页。
    3. 进程请求对块设备或者特定的文件任何特定的变化都进行刷新。  
       通过系统调用 sync(), fsync()，fdataasync() 来实现.
- 延迟写的缺点
    1. 如果发生硬件错误或电源掉电的情况，那就无法在获取RAM的内容，  
       所以，从系统启动以来对文件很多修改就丢失了
    2. 页高速缓存的大小可能很大，至少要与所访问块设备的大小相同

1 / 3 / 4 是脏数据被写回磁盘的充分条件
